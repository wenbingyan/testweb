<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
   	 	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/zepto.fullpage.css"/>
                <script src="./js/recruitH5-vendor-0.1.0.js"></script>
                <script src="./js/weixin.js"></script>
                <style type="text/css">
		.wp {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: red;
                    overflow: hidden;
                    /* 标准的语法 */
                }
                .page1{
                    background:pink;
                }
                .page2{
                    background:blue;
                }
                .page3{
                    background:yellow;
                }
                .page4{
                    background:#ccc;
                }
                </style>
	</head>
	
	<body>
		<div class="wp">
		    <div class="wp-inner">
		        <div class="page page1" >1</div>
		        <div class="page page2" >2</div>
		        <div class="page page3" >3</div>
		        <div class="page page4" >4</div>
		    </div>
		</div>
	<script type="text/javascript">
	
		$('.wp-inner').fullpage({});
//for weixin share
		function weixinShare(type){
			var appid = 'gh_12c1b38444eb';
			var img_url = "http://tg-image.b0.upaiyun.com/tgou2/img2/tgou_logo2.png";
			var link = window.location.href;
			var desc = '发送给好友的描述';
			var title = '微信分享demo';
			var shareFriend = function () {
				WeixinJSBridge.invoke('sendAppMessage',{
					"appid":appid,
					"img_url":img_url,
					"img_width":"640",
					"img_height":"640",
					"link":link,
					"desc":desc,
					"title":title
				},function(res) {
					console.log(res)
				})
			}
			var shareTimeline = function () {
				WeixinJSBridge.invoke('shareTimeline',{
					"appid":appid,
					"img_url":img_url,
					"img_width":"640",
					"img_height":"640",
					"link":link,
					"desc":desc,
					"title":title
				},function(res) {
					console.log(res)
				});
			}
			if(type == 'friend'){
				return shareFriend;
			}else if(type == 'timeline'){
				return shareTimeline;
			}
		}

		var shareFriend = weixinShare('friend');
		var shareTimeline = weixinShare('timeline');
		document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
			WeixinJSBridge.on('menu:share:appmessage', function(argv){
				shareFriend();
			});
			WeixinJSBridge.on('menu:share:timeline', function(argv){
				shareTimeline();
			});
		}, false);
                
	</script>
        </body>
</html>
